'use client';

import { useState } from 'react';
import Link from 'next/link';
import {
  Home,
  Award,
  TrendingUp,
  BookOpen,
  Calendar,
  Users,
  ChevronRight,
  Target,
  CheckCircle2,
  Circle,
  BarChart3,
  Play,
  Image as ImageIcon,
  MapPin,
  Clock,
  Zap,
  User,
} from 'lucide-react';
import MobileMenu from '@/components/MobileMenu';
import {
  takahashiPlayer,
  midorigaokaFCRecords,
  takahashiSoccerLifeLog,
  takahashiPerformance,
  takahashiIDPGoals,
  takahashiMedia,
  takahashiUpcomingActivities,
} from '@/lib/player/takahashi-data';

export default function TakahashiPlayerDashboard() {
  const player = takahashiPlayer;
  const performance = takahashiPerformance;
  const idpGoals = takahashiIDPGoals;

  const menuItems = [
    { label: '選手ポータル', href: '/player', icon: <Home className="w-5 h-5" /> },
    { label: 'チームポータル', href: '/team/long-term', icon: <Users className="w-5 h-5" /> },
    { label: 'サッカーノート (IDP)', href: '/team/long-term/growth/idp/idp1', icon: <BookOpen className="w-5 h-5" /> },
  ];

  return (
    <main className="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100">
      <div className="container mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 max-w-7xl">
        {/* ヒーロー画面 */}
        <div className="bg-gradient-to-r from-green-500 to-green-600 rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6 lg:p-8 mb-4 sm:mb-6 lg:mb-8 text-white relative">
          {/* チームページへボタン */}
          <Link
            href="/team/long-term"
            className="absolute top-4 right-4 px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 rounded-lg transition-all text-white font-semibold text-sm flex items-center gap-2"
          >
            <Users className="w-4 h-4" />
            <span className="hidden sm:inline">チームページへ</span>
            <span className="sm:hidden">チーム</span>
          </Link>

          <div className="flex flex-col sm:flex-row items-center sm:items-start gap-4 sm:gap-6">
            {/* プロフィール写真 */}
            <div className="flex-shrink-0">
              <div className="w-24 h-24 sm:w-32 sm:h-32 rounded-xl bg-white/20 backdrop-blur-sm border-4 border-white/30 flex items-center justify-center overflow-hidden">
                <div className="w-full h-full bg-gradient-to-br from-green-400/50 to-green-600/50 flex flex-col items-center justify-center gap-1 sm:gap-2">
                  <User className="w-12 h-12 sm:w-16 sm:h-16 text-white/80" strokeWidth={1.5} />
                  <span className="text-[10px] sm:text-xs text-white/90 font-medium">
                    画像を登録
                  </span>
                </div>
              </div>
            </div>

            {/* 基本情報 */}
            <div className="flex-1 w-full text-center sm:text-left">
              <div className="mb-4">
                <h1 className="text-2xl sm:text-3xl lg:text-4xl font-bold mb-1">{player.name}</h1>
                <p className="text-sm sm:text-base lg:text-lg text-green-100">{player.nameKana}</p>
              </div>

              <div className="grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3">
                <div className="bg-white/20 px-3 py-2 rounded-lg backdrop-blur-sm">
                  <p className="text-[10px] sm:text-xs text-green-100">チーム</p>
                  <p className="font-semibold text-xs sm:text-sm truncate">{player.team}</p>
                </div>
                <div className="bg-white/20 px-3 py-2 rounded-lg backdrop-blur-sm">
                  <p className="text-[10px] sm:text-xs text-green-100">ポジション</p>
                  <p className="font-semibold text-xs sm:text-sm">{player.position}</p>
                </div>
                <div className="bg-white/20 px-3 py-2 rounded-lg backdrop-blur-sm">
                  <p className="text-[10px] sm:text-xs text-green-100">学年</p>
                  <p className="font-semibold text-xs sm:text-sm truncate">{player.grade}</p>
                </div>
                <div className="bg-white/20 px-3 py-2 rounded-lg backdrop-blur-sm">
                  <p className="text-[10px] sm:text-xs text-green-100">背番号</p>
                  <p className="font-semibold text-xs sm:text-sm">{player.number}</p>
                </div>
                <div className="bg-white/20 px-3 py-2 rounded-lg backdrop-blur-sm">
                  <p className="text-[10px] sm:text-xs text-green-100">身長</p>
                  <p className="font-semibold text-xs sm:text-sm">{player.height} cm</p>
                </div>
                <div className="bg-white/20 px-3 py-2 rounded-lg backdrop-blur-sm">
                  <p className="text-[10px] sm:text-xs text-green-100">体重</p>
                  <p className="font-semibold text-xs sm:text-sm">{player.weight} kg</p>
                </div>
                <div className="bg-white/20 px-3 py-2 rounded-lg backdrop-blur-sm">
                  <p className="text-[10px] sm:text-xs text-green-100">年齢</p>
                  <p className="font-semibold text-xs sm:text-sm">{player.age}歳</p>
                </div>
                <div className="bg-white/20 px-3 py-2 rounded-lg backdrop-blur-sm">
                  <p className="text-[10px] sm:text-xs text-green-100">サッカー歴</p>
                  <p className="font-semibold text-xs sm:text-sm">{player.yearsPlayed}年</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* アンカーナビゲーション */}
        <div className="mb-4 sm:mb-6 lg:mb-8 sticky top-0 z-10 bg-gradient-to-br from-gray-50 to-gray-100 pb-2">
          <div className="bg-white rounded-xl shadow-md p-2 overflow-x-auto">
            <div className="flex gap-2 min-w-max">
              <a
                href="#performance"
                className="px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors font-semibold text-sm whitespace-nowrap"
              >
                個人パフォーマンス
              </a>
              <a
                href="#goals"
                className="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors font-semibold text-sm whitespace-nowrap"
              >
                目標
              </a>
              <a
                href="#team-record"
                className="px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors font-semibold text-sm whitespace-nowrap"
              >
                チーム戦績
              </a>
              <a
                href="#media"
                className="px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-semibold text-sm whitespace-nowrap"
              >
                動画
              </a>
              <a
                href="#schedule"
                className="px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors font-semibold text-sm whitespace-nowrap"
              >
                スケジュール
              </a>
              <a
                href="#soccer-note"
                className="px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition-colors font-semibold text-sm whitespace-nowrap"
              >
                サッカーノート
              </a>
              <a
                href="#life-log"
                className="px-4 py-2 bg-teal-100 text-teal-700 rounded-lg hover:bg-teal-200 transition-colors font-semibold text-sm whitespace-nowrap"
              >
                サッカーライフログ
              </a>
            </div>
          </div>
        </div>

        {/* IDP目標概要 */}
        <div id="goals" className="bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6 lg:mb-8 scroll-mt-20">
          <h2 className="text-lg sm:text-xl lg:text-2xl font-bold text-gray-800 mb-3 sm:mb-4 flex items-center gap-2">
            <Target className="w-5 h-5 sm:w-6 sm:h-6 text-blue-600" />
            2024年度 シーズン目標
          </h2>

          <div className="bg-blue-50 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 border border-blue-200">
            <pre className="whitespace-pre-wrap text-xs sm:text-sm text-gray-700 font-sans leading-relaxed">
              {idpGoals.seasonGoal}
            </pre>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
            <div>
              <h3 className="font-semibold text-gray-800 mb-3 flex items-center gap-2">
                <CheckCircle2 className="w-5 h-5 text-green-600" />
                強み
              </h3>
              <ul className="space-y-2">
                {idpGoals.strengths.map((strength, index) => (
                  <li
                    key={index}
                    className="flex items-start gap-2 text-sm text-gray-700"
                  >
                    <div className="w-1.5 h-1.5 rounded-full bg-green-600 mt-2"></div>
                    <span>{strength}</span>
                  </li>
                ))}
              </ul>
            </div>
            <div>
              <h3 className="font-semibold text-gray-800 mb-3 flex items-center gap-2">
                <Circle className="w-5 h-5 text-orange-600" />
                改善ポイント
              </h3>
              <ul className="space-y-2">
                {idpGoals.weaknesses.map((weakness, index) => (
                  <li
                    key={index}
                    className="flex items-start gap-2 text-sm text-gray-700"
                  >
                    <div className="w-1.5 h-1.5 rounded-full bg-orange-600 mt-2"></div>
                    <span>{weakness}</span>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        </div>

        {/* 個人パフォーマンス */}
        <div id="performance" className="bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6 lg:mb-8 scroll-mt-20">
          <h2 className="text-lg sm:text-xl lg:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 flex items-center gap-2">
            <BarChart3 className="w-5 h-5 sm:w-6 sm:h-6 text-purple-600" />
            個人パフォーマンス
          </h2>

          {/* 今月のハイライト */}
          <div className="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg sm:rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 text-white">
            <h3 className="text-base sm:text-lg font-bold mb-3 sm:mb-4 flex items-center gap-2">
              <Zap className="w-4 h-4 sm:w-5 sm:h-5" />
              今月のハイライト（11月）
            </h3>
            <div className="grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4">
              <div className="text-center">
                <p className="text-2xl sm:text-3xl font-bold">{performance.thisMonth.practices}</p>
                <p className="text-xs sm:text-sm text-purple-100">練習参加</p>
              </div>
              <div className="text-center">
                <p className="text-2xl sm:text-3xl font-bold">{performance.thisMonth.matches}</p>
                <p className="text-xs sm:text-sm text-purple-100">試合出場</p>
              </div>
              <div className="text-center">
                <p className="text-2xl sm:text-3xl font-bold">{performance.thisMonth.goals}</p>
                <p className="text-xs sm:text-sm text-purple-100">ゴール</p>
              </div>
              <div className="text-center">
                <p className="text-2xl sm:text-3xl font-bold">{performance.thisMonth.assists}</p>
                <p className="text-xs sm:text-sm text-purple-100">アシスト</p>
              </div>
            </div>
          </div>

          {/* 今年度の記録 */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6">
            {/* 公式戦 */}
            <div className="border-l-4 border-blue-500 bg-blue-50 p-3 sm:p-4 rounded-r-lg">
              <h3 className="font-bold text-base sm:text-lg text-gray-800 mb-3 sm:mb-4">
                2024年度 公式戦
              </h3>
              <div className="grid grid-cols-2 gap-2 sm:gap-3">
                <div className="text-center">
                  <p className="text-xl sm:text-2xl font-bold text-blue-600">
                    {performance.thisYearOfficial.matches}
                  </p>
                  <p className="text-[10px] sm:text-xs text-gray-600">出場試合</p>
                </div>
                <div className="text-center">
                  <p className="text-xl sm:text-2xl font-bold text-green-600">
                    {performance.thisYearOfficial.starts}
                  </p>
                  <p className="text-[10px] sm:text-xs text-gray-600">先発出場</p>
                </div>
                <div className="text-center">
                  <p className="text-xl sm:text-2xl font-bold text-orange-600">
                    {performance.thisYearOfficial.goals}
                  </p>
                  <p className="text-[10px] sm:text-xs text-gray-600">ゴール</p>
                </div>
                <div className="text-center">
                  <p className="text-xl sm:text-2xl font-bold text-purple-600">
                    {performance.thisYearOfficial.assists}
                  </p>
                  <p className="text-[10px] sm:text-xs text-gray-600">アシスト</p>
                </div>
              </div>
              <div className="mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-blue-200">
                <p className="text-xs sm:text-sm text-gray-600">
                  出場時間: {performance.thisYearOfficial.minutesPlayed}分
                </p>
              </div>
            </div>

            {/* 練習試合 */}
            <div className="border-l-4 border-green-500 bg-green-50 p-3 sm:p-4 rounded-r-lg">
              <h3 className="font-bold text-base sm:text-lg text-gray-800 mb-3 sm:mb-4">
                2024年度 練習試合
              </h3>
              <div className="grid grid-cols-2 gap-2 sm:gap-3">
                <div className="text-center">
                  <p className="text-xl sm:text-2xl font-bold text-blue-600">
                    {performance.thisYearPractice.matches}
                  </p>
                  <p className="text-[10px] sm:text-xs text-gray-600">出場試合</p>
                </div>
                <div className="text-center">
                  <p className="text-xl sm:text-2xl font-bold text-orange-600">
                    {performance.thisYearPractice.goals}
                  </p>
                  <p className="text-[10px] sm:text-xs text-gray-600">ゴール</p>
                </div>
                <div className="text-center">
                  <p className="text-xl sm:text-2xl font-bold text-purple-600">
                    {performance.thisYearPractice.assists}
                  </p>
                  <p className="text-[10px] sm:text-xs text-gray-600">アシスト</p>
                </div>
                <div className="text-center">
                  <p className="text-xl sm:text-2xl font-bold text-green-600">
                    {performance.thisYearPractice.minutesPlayed}
                  </p>
                  <p className="text-[10px] sm:text-xs text-gray-600">出場時間(分)</p>
                </div>
              </div>
            </div>
          </div>

          {/* 通算記録 */}
          <div className="bg-gradient-to-r from-gray-700 to-gray-800 rounded-lg sm:rounded-xl p-4 sm:p-6 text-white">
            <h3 className="text-base sm:text-lg font-bold mb-3 sm:mb-4">
              サッカー人生 通算記録（公式戦のみ）
            </h3>
            <div className="grid grid-cols-3 gap-3 sm:gap-6">
              <div className="text-center">
                <p className="text-2xl sm:text-3xl lg:text-4xl font-bold mb-1">
                  {performance.careerOfficial.matches}
                </p>
                <p className="text-xs sm:text-sm text-gray-300">試合出場</p>
              </div>
              <div className="text-center">
                <p className="text-2xl sm:text-3xl lg:text-4xl font-bold mb-1">
                  {performance.careerOfficial.goals}
                </p>
                <p className="text-xs sm:text-sm text-gray-300">ゴール</p>
              </div>
              <div className="text-center">
                <p className="text-2xl sm:text-3xl lg:text-4xl font-bold mb-1">
                  {performance.careerOfficial.assists}
                </p>
                <p className="text-xs sm:text-sm text-gray-300">アシスト</p>
              </div>
            </div>
          </div>
        </div>

        {/* 緑ヶ丘FCの戦績 */}
        <div id="team-record" className="bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6 lg:mb-8 scroll-mt-20">
          <h2 className="text-lg sm:text-xl lg:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 flex items-center gap-2">
            <Award className="w-5 h-5 sm:w-6 sm:h-6 text-green-600" />
            {player.team}の戦績
          </h2>

          <div className="space-y-3 sm:space-y-4">
            {midorigaokaFCRecords.map((record, index) => (
              <div
                key={index}
                className="border-l-4 border-green-500 bg-green-50 p-4 rounded-r-lg"
              >
                <div className="flex items-start justify-between mb-3">
                  <div>
                    <h3 className="font-bold text-lg text-gray-800">
                      {record.competition}
                    </h3>
                    <p className="text-sm text-gray-600">{record.season}</p>
                  </div>
                  {record.achievement && (
                    <span className="px-4 py-1 bg-green-600 text-white rounded-full text-sm font-semibold">
                      {record.achievement}
                    </span>
                  )}
                </div>

                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                  <div className="text-center">
                    <p className="text-2xl font-bold text-green-600">
                      {record.matches}
                    </p>
                    <p className="text-xs text-gray-600">試合数</p>
                  </div>
                  <div className="text-center">
                    <p className="text-2xl font-bold text-blue-600">
                      {record.wins}勝
                    </p>
                    <p className="text-xs text-gray-600">
                      {record.draws}分{record.losses}敗
                    </p>
                  </div>
                  <div className="text-center">
                    <p className="text-2xl font-bold text-orange-600">
                      {record.goalsFor}
                    </p>
                    <p className="text-xs text-gray-600">得点</p>
                  </div>
                  <div className="text-center">
                    <p className="text-2xl font-bold text-purple-600">
                      {record.position || '-'}
                    </p>
                    <p className="text-xs text-gray-600">順位</p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* 動画/フォトスペース */}
        <div id="media" className="bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6 lg:mb-8 scroll-mt-20">
          <h2 className="text-lg sm:text-xl lg:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 flex items-center gap-2">
            <Play className="w-5 h-5 sm:w-6 sm:h-6 text-red-600" />
            動画 / フォトスペース
          </h2>

          <div className="grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4">
            {takahashiMedia.map((media) => (
              <div
                key={media.id}
                className="group relative bg-gray-100 rounded-lg overflow-hidden hover:shadow-lg transition-all cursor-pointer aspect-video"
              >
                {/* プレースホルダー画像 */}
                <div className="w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center">
                  {media.type === 'video' ? (
                    <Play className="w-12 h-12 text-gray-500 group-hover:text-green-600 transition-colors" />
                  ) : (
                    <ImageIcon className="w-12 h-12 text-gray-500 group-hover:text-green-600 transition-colors" />
                  )}
                </div>

                {/* オーバーレイ情報 */}
                <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 sm:p-3">
                  <p className="text-white text-xs sm:text-sm font-semibold line-clamp-2">
                    {media.title}
                  </p>
                  <p className="text-gray-300 text-[10px] sm:text-xs">
                    {new Date(media.date).toLocaleDateString('ja-JP')}
                  </p>
                </div>

                {/* タイプバッジ */}
                <div className="absolute top-2 right-2">
                  <span
                    className={`px-2 py-1 rounded text-xs font-semibold ${
                      media.type === 'video'
                        ? 'bg-red-500 text-white'
                        : 'bg-blue-500 text-white'
                    }`}
                  >
                    {media.type === 'video' ? '動画' : '写真'}
                  </span>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* 直近の活動 */}
        <div id="schedule" className="bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6 lg:mb-8 scroll-mt-20">
          <h2 className="text-lg sm:text-xl lg:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 flex items-center gap-2">
            <Calendar className="w-5 h-5 sm:w-6 sm:h-6 text-orange-600" />
            直近の活動スケジュール
          </h2>

          <div className="space-y-2 sm:space-y-3">
            {takahashiUpcomingActivities.map((activity) => (
              <div
                key={activity.id}
                className={`p-3 sm:p-4 rounded-lg border-l-4 ${
                  activity.type === 'match'
                    ? 'bg-orange-50 border-orange-500'
                    : 'bg-blue-50 border-blue-500'
                }`}
              >
                <div className="flex items-start justify-between mb-2">
                  <div className="flex-1 min-w-0">
                    <div className="flex items-center gap-2 mb-1 flex-wrap">
                      <span
                        className={`px-2 sm:px-3 py-1 rounded text-[10px] sm:text-xs font-semibold ${
                          activity.type === 'match'
                            ? 'bg-orange-600 text-white'
                            : 'bg-blue-600 text-white'
                        }`}
                      >
                        {activity.type === 'match' ? '試合' : '練習'}
                      </span>
                      <h3 className="font-bold text-sm sm:text-base text-gray-800">
                        {activity.title}
                      </h3>
                    </div>
                    {activity.opponent && (
                      <p className="text-xs sm:text-sm text-gray-700 font-semibold mb-1">
                        {activity.opponent}
                      </p>
                    )}
                  </div>
                  <span className="text-xs sm:text-sm font-semibold text-gray-600 ml-2 flex-shrink-0">
                    {new Date(activity.date).toLocaleDateString('ja-JP', {
                      month: 'short',
                      day: 'numeric',
                    })}
                  </span>
                </div>

                <div className="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600">
                  <div className="flex items-center gap-1">
                    <Clock className="w-3 h-3 sm:w-4 sm:h-4" />
                    <span>{activity.time}</span>
                  </div>
                  <div className="flex items-center gap-1">
                    <MapPin className="w-3 h-3 sm:w-4 sm:h-4" />
                    <span className="break-words">{activity.location}</span>
                  </div>
                </div>

                {activity.notes && (
                  <p className="text-xs sm:text-sm text-gray-600 mt-2 italic">
                    {activity.notes}
                  </p>
                )}
              </div>
            ))}
          </div>
        </div>

        {/* IDP（個人分析シート） */}
        <div id="soccer-note" className="bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6 lg:mb-8 scroll-mt-20">
          <h2 className="text-lg sm:text-xl lg:text-2xl font-bold text-gray-800 mb-3 sm:mb-4 flex items-center gap-2">
            <BookOpen className="w-5 h-5 sm:w-6 sm:h-6 text-blue-600" />
            サッカーノート
          </h2>
          <p className="text-sm sm:text-base text-gray-600 mb-4 sm:mb-6">
            田中コーチと一緒に作成している個人分析シート（IDP）で、自分の成長を記録しています。
          </p>

          <Link
            href="/team/long-term/growth/idp/idp1"
            className="block p-4 sm:p-6 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg sm:rounded-xl hover:shadow-xl transition-all text-white"
          >
            <div className="flex items-center justify-between gap-3">
              <div className="flex-1">
                <h3 className="text-base sm:text-lg lg:text-xl font-bold mb-1 sm:mb-2">
                  個人分析シート（IDP）を見る
                </h3>
                <p className="text-xs sm:text-sm text-blue-100">
                  技術・戦術・フィジカル・メンタルの4つの評価と、コーチとの対話記録
                </p>
              </div>
              <ChevronRight className="w-6 h-6 sm:w-8 sm:h-8 flex-shrink-0" />
            </div>
          </Link>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 mt-3 sm:mt-4">
            <Link
              href="/team/long-term/growth/idp/idp1"
              className="p-4 bg-blue-50 rounded-lg border border-blue-200 hover:bg-blue-100 transition-colors"
            >
              <h4 className="font-semibold text-blue-900 mb-1">月次評価</h4>
              <p className="text-sm text-blue-700">
                毎月の技術評価と成長記録
              </p>
            </Link>
            <Link
              href="/team/long-term/growth/idp/idp1"
              className="p-4 bg-green-50 rounded-lg border border-green-200 hover:bg-green-100 transition-colors"
            >
              <h4 className="font-semibold text-green-900 mb-1">
                振り返りシート
              </h4>
              <p className="text-sm text-green-700">
                面談記録と学校生活の振り返り
              </p>
            </Link>
          </div>
        </div>

        {/* サッカーライフログ */}
        <div id="life-log" className="bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6 lg:mb-8 scroll-mt-20">
          <h2 className="text-lg sm:text-xl lg:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 flex items-center gap-2">
            <TrendingUp className="w-5 h-5 sm:w-6 sm:h-6 text-orange-600" />
            サッカーライフログ
          </h2>

          <div className="space-y-6 sm:space-y-8">
            {takahashiSoccerLifeLog
              .slice()
              .reverse()
              .map((yearLog) => (
                <div
                  key={yearLog.year}
                  className="relative pl-8 border-l-2 border-green-500"
                >
                  <div className="absolute -left-3 top-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center">
                    <span className="text-white text-xs font-bold">
                      {yearLog.age}
                    </span>
                  </div>

                  <div className="mb-4">
                    <h3 className="text-xl font-bold text-gray-800">
                      {yearLog.grade} ({yearLog.year}年度)
                    </h3>
                    <p className="text-sm text-gray-600">
                      {yearLog.age}歳 - {yearLog.events.length}つの思い出
                    </p>
                  </div>

                  <div className="space-y-3">
                    {yearLog.events.map((event, idx) => {
                      const emotionColor = {
                        happy: 'bg-yellow-100 border-yellow-300 text-yellow-800',
                        proud: 'bg-purple-100 border-purple-300 text-purple-800',
                        challenging:
                          'bg-orange-100 border-orange-300 text-orange-800',
                        inspiring: 'bg-blue-100 border-blue-300 text-blue-800',
                      };
                      const color = emotionColor[event.emotion || 'happy'];

                      return (
                        <div
                          key={idx}
                          className={`p-4 rounded-lg border-l-4 ${color}`}
                        >
                          <div className="flex items-start justify-between mb-2">
                            <h4 className="font-semibold">{event.title}</h4>
                            <span className="text-xs px-2 py-1 bg-white rounded">
                              {new Date(event.date).toLocaleDateString('ja-JP', {
                                month: 'short',
                                day: 'numeric',
                              })}
                            </span>
                          </div>
                          <p className="text-sm">{event.description}</p>
                        </div>
                      );
                    })}
                  </div>
                </div>
              ))}
          </div>
        </div>

        {/* フッター */}
        <footer className="text-center py-8 text-gray-500">
          <p className="text-sm">
            JFA 緑プロジェクト - サッカーと生きる、すべての人のために
          </p>
          <p className="text-xs mt-2">選手ダッシュボード（アマチュア）</p>
        </footer>
      </div>
    </main>
  );
}
